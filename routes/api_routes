const router = require('express').Router();

const Course = require('../models/Course');
const Student = require('../models/Student');
const Group = require('../models/Group');

// get route to send all students
router.get('/students', async (request, response) => {
    const students = await Student.findAll();

    response.json(students);
});

router.get('/groups', async (request, response) => {
    const students = await Group.findAll();

    response.json(groups);
});

// get route to send all courses
router.get('/courses', async (request, response) => {
    // findAll returns all rows in the table
    const courses = await Course.findAll();

    response.json(courses);
});

// poste create a course
router.post('/courses', async (request, response) => {
    const formData = request.body;

    await Course.create(formData);

    response.json({
        message: 'course created successfully!'
    });

});

router.post('/students', async (request, response) => {
    const formData = request.body;

    await Student.create(formData);
    response.json({
        message: 'student created successfully!'
    });

});

router.post('/groups', async (request, response) => {
    const formData = request.body;

    await Group.create(formData);
    response.json({
        message: 'student created successfully!'
    });

});


module.exports = router;